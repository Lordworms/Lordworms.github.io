
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>C++ interview- key words part | Waiting for the dawn</title>
        <meta name="author" content="Yanxin Xiang">
        <meta name="description" content="">
        <meta name="keywords" content="">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
        <link rel="icon" href="https://s2.loli.net/2023/03/03/LNHQJzc54fgYDMd.jpg">
        <script src="https://cdn.staticfile.org/vue/3.2.45/vue.global.prod.min.js"></script>
        <script src="https://cdn.staticfile.org/highlight.js/11.7.0/highlight.min.js"></script>
        <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/11.7.0/styles/github.min.css">
        <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.2.1/css/all.min.css">
        
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
        
        
        <script src="https://cdn.staticfile.org/KaTeX/0.16.4/katex.min.js"></script>
        <script src="https://cdn.staticfile.org/KaTeX/0.16.4/contrib/auto-render.min.js"></script>
        <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.4/katex.min.css">
        
        
        <link rel="stylesheet" href="/css/fonts.min.css">
        <link rel="stylesheet" href="/css/particlex.css">
    <meta name="generator" content="Hexo 6.3.0"></head>
    <body>
        <div id="loading" style="height: 100vh; width: 100vw; left: 0; top: 0; position: fixed; display: flex; z-index: 2147483647; background: #fff; transition: opacity 0.3s ease-out; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; pointer-events: none">
    <div style="width: 50vmin; height: 50vmin; margin: auto; padding: 50px; border-radius: 50%; display: flex; border: solid 10px #a3ddfb">
        <div style="margin: auto; text-align: center">
            <h2>LOADING</h2>
            <p>加载过慢请开启缓存，浏览器默认开启</p>
            <img src="/images/loading.gif" style="height: 50px; border-radius: 0">
        </div>
    </div>
</div>

        <div id="layout">
            <transition name="into">
            <div id="main" v-show="showpage" style="display: -not-none">
                <nav id="menu">
    <div class="desktop-menu">
        <a class="title" href="/">
            <span>WAITING FOR THE DAWN</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </div>
    <div :class="&quot;phone-menu &quot; + menushow" id="phone-menu">
        <div class="curtain" @click="menushow = !menushow" v-show="menushow"></div>
        <div class="title" @click="menushow = !menushow">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;WAITING FOR THE DAWN</span>
        </div>
        <transition name="slide">
        <div class="items" v-show="menushow">
            
            <a href="/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-house fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-id-card fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-box-archive fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                </div>
            </a>
            
            <a href="/categories">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-bookmark fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                </div>
            </a>
            
            <a href="/tags">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-tags fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                </div>
            </a>
            
        </div>
        </transition>
    </div>
</nav>

                <div class="article">
    <div>
        <h1>C++ interview- key words part </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/3/16
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            <span class="tag">
                
                <a href="/tags/interview/" style="color: #ffa2c4">interview</a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/C/" style="color: #00bcd4">C++</a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <p>reference from (<a target="_blank" rel="noopener" href="https://github.com/imarvinle/interview-1#cc">https://github.com/imarvinle/interview-1#cc</a>)</p>
<h1 id="关键字以及影响"><a href="#关键字以及影响" class="headerlink" title="关键字以及影响"></a>关键字以及影响</h1><h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><h3 id="1-const-修饰变量-指针-常量引用-成员函数"><a href="#1-const-修饰变量-指针-常量引用-成员函数" class="headerlink" title="1.const 修饰变量/指针/常量引用/成员函数"></a>1.const 修饰变量/指针/常量引用/成员函数</h3><div class="table-container">
<table>
<thead>
<tr>
<th>类型</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>修饰变量</td>
<td>该变量不可被修改</td>
</tr>
<tr>
<td>修饰指针+指针常量</td>
<td>常量</td>
</tr>
<tr>
<td>修饰指针+常量指针</td>
<td>同1</td>
</tr>
<tr>
<td>修饰引用</td>
<td>避免copy和对值的修改(预编译前查看）</td>
</tr>
<tr>
<td>修饰成员函数</td>
<td>不允许修改成员变量（预编译前查看）</td>
</tr>
</tbody>
</table>
</div>
<h3 id="2-static"><a href="#2-static" class="headerlink" title="2.static"></a>2.static</h3><p>先来复习一下进程的分区<br><img src="https://img-blog.csdn.net/20180209135339250?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxNDQ3MDM2MQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>类型</th>
<th>作用</th>
<th>对应操作</th>
</tr>
</thead>
<tbody>
<tr>
<td>修饰普通变量</td>
<td>该变量放置在静态区</td>
<td>在main函数前分配空间并用对应值初始化</td>
</tr>
<tr>
<td>修饰普通函数</td>
<td>该函数仅在对应文件内可用</td>
<td>防止多人开发时函数重名</td>
</tr>
<tr>
<td>修饰成员变量</td>
<td>所有成员共享一个对应变量</td>
<td>必须在类外初始化</td>
</tr>
<tr>
<td>修饰成员函数</td>
<td>不需要对象就可以访问该函数</td>
<td>在static函数内无法访问非静态成员</td>
</tr>
</tbody>
</table>
</div>
<h3 id="3-this指针"><a href="#3-this指针" class="headerlink" title="3.this指针"></a>3.this指针</h3><p>1.this不是一个常规变量，不能取得this的地址</p>
<h3 id="4-inline"><a href="#4-inline" class="headerlink" title="4.inline"></a>4.inline</h3><pre><code>clang -emit-llvm -S inline_test.cpp -o inline_test.ll
</code></pre><p>1.相当于LLVM中间层里的inline操作，直接把对应函数的函数体粘贴到调用的地方<br>2.和宏相比,多了类型检查<br>3.不能包含循环/递归/switch(亲测C20已经可以switch,递归，循环了)<br>4.在类声明中定义的函数，除了虚函数的其他函数都会自动隐式地当成内联函数。</p>
<p>编译器对 inline 函数的处理步骤<br>1.将 inline 函数体复制到 inline 函数调用点处；<br>2.为所用 inline 函数中的局部变量分配内存空间；<br>3.将 inline 函数的的输入参数和返回值映射到调用方法的局部变量空间中；<br>4.如果 inline 函数有多个返回点，将其转变为 inline 函数代码块末尾的分支（使用 GOTO）。</p>
<p>优缺点<br>优点</p>
<p>1.内联函数同宏函数一样将在被调用处进行代码展开，省去了参数压栈、栈帧开辟与回收，结果返回等，从而提高程序运行速度。</p>
<p>2.内联函数相比宏函数来说，在代码展开时，会做安全检查或自动类型转换（同普通函数），而宏定义则不会。</p>
<p>3.在类中声明同时定义的成员函数，自动转化为内联函数，因此内联函数可以访问类的成员变量，宏定义则不能。</p>
<p>4.内联函数在运行时可调试，而宏定义不可以。<br>缺点</p>
<p>1.代码膨胀。内联是以代码膨胀（复制）为代价，消除函数调用带来的开销。如果执行函数体内代码的时间，相比于函数调用的开销较大，那么效率的收获会很少。另一方面，每一处内联函数的调用都要复制代码，将使程序的总代码量增大，消耗更多的内存空间。</p>
<p>2.inline 函数无法随着函数库升级而升级。inline函数的改变需要重新编译，不像 non-inline 可以直接链接。</p>
<p>3.<font color="red">是否内联，程序员不可控。内联函数只是对编译器的建议，是否对函数内联，决定权在于编译器。</font></p>
<p>$Q:虚函数可以是inline吗$<br>A:<br>1.虚函数可以是内联函数，内联是可以修饰虚函数的，但是当虚函数表现多态性的时候不能内联。<br>2.内联是在编译器建议编译器内联，而虚函数的多态性在运行期，编译器无法知道运行期调用哪个代码，因此虚函数表现为多态性时（运行期）不可以内联。<br>3.inline virtual 唯一可以内联的时候是：编译器知道所调用的对象是哪个类（如 Base::who()），这只有在编译器具有实际对象而不是对象的指针或引用时才会发生。</p>
<h3 id="5-sizeof"><a href="#5-sizeof" class="headerlink" title="5. sizeof"></a>5. sizeof</h3><p>返回字节数<br>char:1</p>
<p>int:4</p>
<p>汉字:3</p>
<h3 id="6-volatile"><a href="#6-volatile" class="headerlink" title="6. volatile"></a>6. volatile</h3><p>表示不允许编译器对该变量进行寄存器优化，每次必须从内存取出值<br>const 可以是 volatile （如只读的状态寄存器）</p>
<p>指针可以是 volatile</p>
<h3 id="7-extern-“C”"><a href="#7-extern-“C”" class="headerlink" title="7. extern “C”"></a>7. extern “C”</h3><p>extern “C” 的作用是让 C++ 编译器将 extern “C” 声明的代码当作 C 语言代码处理，可以避免 C++ 因符号修饰导致代码不能和C语言库中的符号进行链接的问题。</p>
<pre><code class="lang-C++">#ifdef __cplusplus
extern &quot;C&quot; &#123;
#endif

void *memset(void *, int, size_t);

#ifdef __cplusplus
&#125;
#endif
</code></pre>
<h3 id="8-struct-和-class"><a href="#8-struct-和-class" class="headerlink" title="8. struct 和 class"></a>8. struct 和 class</h3><p>总的来说，struct 更适合看成是一个数据结构的实现体，class 更适合看成是一个对象的实现体。</p>
<p>最本质的一个区别就是默认的访问控制<br>1.默认的继承访问权限。struct 是 public 的，class 是 private 的。<br>2.struct 作为数据结构的实现体，它默认的数据访问控制是 public 的，而 class 作为对象的实现体，它默认的成员变量访问控制是 private 的。</p>
<h3 id="9-union"><a href="#9-union" class="headerlink" title="9.union"></a>9.union</h3><p>1.匿名 union 在定义所在作用域可直接访问 union 成员<br>2.匿名 union 不能包含 protected 成员或 private 成员<br>3.全局匿名联合必须是静态（static）的</p>
<pre><code class="lang-C++">#include &lt;bits/stdc++.h&gt;
using namespace std;
template&lt;typename T&gt;
union bits&#123;
    T value;
    bitset&lt;sizeof(T)*8&gt;bit;
    bits(T v):value(v)&#123;&#125;
&#125;;
int main()&#123;
  ios::sync_with_stdio(false);
  cin.tie(nullptr);
  bits&lt;int&gt;test(4);
  cout&lt;&lt;test.bit&lt;&lt;&#39;\n&#39;;
  bits&lt;double&gt;double_test(3.5);
  cout&lt;&lt;double_test.bit&lt;&lt;&#39;\n&#39;;//IEEE shit
  return 0;
&#125;
</code></pre>
<h3 id="10-explicit"><a href="#10-explicit" class="headerlink" title="10. explicit"></a>10. explicit</h3><p>用来取消构造函数的调用</p>
<pre><code class="lang-C++">#include &lt;iostream&gt;
using namespace std;
class EXP_TEST&#123;
    public:
    EXP_TEST(int x)&#123;
        cout&lt;&lt;&quot;used&quot;&lt;&lt;endl;
    &#125;
&#125;;
static void test(EXP_TEST a)&#123;
&#125;
int main( )&#123;
    test(1);
    return 0;
&#125;
</code></pre>
<h3 id="11-friend"><a href="#11-friend" class="headerlink" title="11. friend"></a>11. friend</h3><p>能够在别的类中对私有成员进行访问<br>友元关系不具有传递性</p>
<pre><code class="lang-C++">class friend_B&#123;
    friend_A a;
    public:
        void modify()&#123;
            a.wallet++;//could access
        &#125;
&#125;;
class friend_A&#123;
    friend class friend_B;
    private:
        int wallet;
&#125;;
</code></pre>
<h3 id="12-using和"><a href="#12-using和" class="headerlink" title="12. using和::"></a>12. using和::</h3><p>1.全局作用域符（::name）：用于类型名称（类、类成员、成员函数、变量等）前，表示作用域为全局命名空间<br>2.类作用域符（class::name）：用于表示指定类型的作用域范围是具体某个类的<br>3.命名空间作用域符（namespace::name）:用于表示指定类型的作用域范围是具体某个命名空间的</p>
<h3 id="13-decltype"><a href="#13-decltype" class="headerlink" title="13. decltype"></a>13. decltype</h3><pre><code class="lang-C++">int a;
  decltype(a) b;
  b=1;
  cout&lt;&lt;b&lt;&lt;&#39;\n&#39;;
  auto cmp=[&amp;](int a,int b)&#123;
    return a&gt;b;
  &#125;;
  priority_queue&lt;int,vector&lt;int&gt;,decltype(cmp)&gt;q(cmp);//let others to deduce the answer
  q.push(1);
  q.push(2);
  while(!q.empty())&#123;
    cout&lt;&lt;q.top()&lt;&lt;&#39; &#39;;
    q.pop();
  &#125;
</code></pre>
<h3 id="14-引用"><a href="#14-引用" class="headerlink" title="14. 引用"></a>14. 引用</h3><p>1.左值引用可以绑定到左值，不可以绑定到右值<br>2.左值常引用可以绑定到右值,此时右值在栈上<br>3.右值引用&amp;&amp;,可以指向右值，不可以指向左值，用处是可以修改右值</p>

    </div>
    
    
    
    
    
    
    
</div>

                <footer id="footer">
    <div class="footer-wrap">
        <div>
            &copy;
            2022 - 2023 Waiting for the dawn
            <span class="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Yanxin Xiang
        </div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp; <a target="_blank" rel="noopener" href="https://github.com/argvchs/hexo-theme-particlex">ParticleX Theme</a></div>
        
    </div>
</footer>

            </div>
            </transition>
            <div id="showimg">
                <img id="showimg-content">
            </div>
        </div>
        <script src="/js/functions.js"></script>
<script src="/js/particlex.js"></script>







    </body>
</html>
